#!/bin/bash
release="$(lsb_release -rs)"
codename="$(lsb_release -cs)"
if [[ "$release" > "11.04" || "$codename" = "lisa" || "$codename" = "maya" ]]; then
	auth="pkexec"
else
	if [[ -e /usr/bin/gksu ]]; then 
		auth="gksu -S -m \"Y PPA Manager requires admin privileges for this task\""
	elif [[ -e /usr/bin/kdesudo ]]; then
		auth="kdesudo -d --comment=\"Y PPA Manager requires admin privileges for this task\""
	else
		echo "No authentication program found."
		exit 1
	fi
fi
case $1 in
	add)
		"$auth" y-ppa-cmd add;;
	advanced)
		"$auth" y-ppa-cmd advanced;;
	manage)
		"$auth" y-ppa-cmd manage;;
	search)
		"$auth" y-ppa-search;;
	settings)
		"$auth" y-ppa-cmd settings;;
	install)
		"$auth" y-ppa-cmd install;;
	*)
		y-ppa-indicator &
		"$auth" y-ppa-manager;;
esac
